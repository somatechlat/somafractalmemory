# SFM API Dockerfile for minikube image build
FROM python:3.10-slim

WORKDIR /app

# Copy requirements first for layer caching
COPY api-requirements.txt .
RUN pip install --no-cache-dir -r api-requirements.txt

# Copy application code
COPY manage.py .
COPY somafractalmemory/ somafractalmemory/
COPY common/ common/

EXPOSE 10101

CMD ["python", "manage.py", "runserver", "0.0.0.0:10101"]
